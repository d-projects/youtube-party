
<%- include ('./partials/header') %>
<%- include ('./partials/nav') %>

<div class="bg"></div>


<!-- Masthead -->
<header class="masthead text-white text-center h-100 bg">
  <div class="container">

      <div class="row align-items-center" style="height: 95vh">

        <div class = "col-8 mx-auto alert alert-warning warning-msg d-none">
        </div>

        <div class="col-md-8 mx-auto search">

        <form id="joinForm">
          <div class="form-row">
            <div class="col-8 col-md-5 mb-2 mb-md-0">
              <input type="text" name="room" class="form-control form-control-lg" placeholder="Enter a room id..." required>
            </div>
            <div class="col-8 col-md-3">
              <button type="submit" class="btn btn-block btn-lg btn-primary join">Join a Room</button>
            </div>
          </div>
        </form>

        <br>
        <form id="startForm">
          <div class="form-row">
            <div class="col-12 col-md-9 mb-2 mb-md-0">
              <input type="text" name="url" class="form-control form-control-lg" placeholder="Enter a youtube video url..." required>
            </div>
            <div class="col-12 col-md-3">
              <button type="submit" class="btn btn-block btn-lg btn-success start">Create a Room</button>
            </div>
          </div>
        </form>

      </div>
    </div>
  </div>
</header>

<div class="modal" id="nameModal">
  <div class="modal-dialog">
    <div class="modal-content">

      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Your Name</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <form action="/watch" method="POST">
          <div class="form-group w-100">
            <p> <strong> Please Note: </strong> </p>
            <p class = "lag-msg">
              Accessing the room may take a few tries. If the video screen is not showing up when you get to the room,
              leave the room and try again. Once you get to the room and the video screen is visible, there should not be any issues from that point on.
              This issue is arises due to the nature of websockets on Heroku.
            </p>
            <label for="name">Please Enter Your Name:</label>
            <input type="text" name="name" class="form-control" id="name" minlength="2">
            <input type="hidden" name="room" class="form-control" id="room" minlength="2">
            <input type="hidden" name="url" class="form-control" id="url" minlength="2">
          </div>
          <button type="submit" class="btn btn-primary">Proceed</button>
      </form>
      </div>

    </div>
  </div>
</div>

<script src = "js/validate.js"></script>

<%- include ('./partials/footer') %>